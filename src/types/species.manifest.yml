id: species
description: |
  Placeholder description for species type.

composer: |
  
  # Compose each of the stages for this species.
  for (name, stage) in s["stages"]
    stage["label"] = name
    s["stages"][name] = compose_as(stage, "species#stage")
  end

  # Compose the fitness scheme for this species.
  # Default to maximization of a float scalar.
  s["fitness"] = Base.get(s, "fitness", [
    "type" => "fitness/scalar",
    "maximise" => true,
    "of" => "Float"
  ])

  println("Composing fitness scheme:")
  println(s["fitness"])

  s["fitness"] = compose_as(s["fitness"], s["fitness"]["type"])
  #s["fitness"] = Wallace.compose(s["fitness"])

  println()
  println("Composed fitness scheme.")
  println()

  # Compose the individual type.
  I = compose_as([
    "fitness" => s["fitness"],
    "stages" => s["stages"]
  ], "individual")

  # Instantiate this species.
  Species{I}(Dict{String, SpeciesStage}(s["stages"]))
