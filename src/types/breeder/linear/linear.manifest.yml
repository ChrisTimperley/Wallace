id: breeder/linear

composer: |
  s["sources"] = {{ 
    "operator" => op
  } for op in pop!(s, "operators")}

  # Mark the first operator as a selection stage.
  s["sources"][1]["type"] = "selection"

  # Mark all others as variators.
  for (i, src) in enumerate(s["sources"][2:end])
    src["source"] = "s$i"
    src["type"] = "variation"
    haskey(src["operator"], "stage") && (src["stage"] = src["operator"]["stage"])
  end
  s["sources"] = Dict(["s$i" for i in 1:length(s["sources"])], s["sources"])

  # Debugging.
  println(s)

  compose_as(s, "breeder/fast")
